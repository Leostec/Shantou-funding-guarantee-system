<template>
    <div ref="heatMap2" style="width:100%; height: 700px"></div>
</template>

<script setup>
import * as echarts from 'echarts';
import { ref, onMounted } from 'vue';

const heatMap2 = ref(null);
// prettier-ignore
const hours = [
    'xgboost内置特征重要性排序', '排列重要性', 'Leave-one-out', '相关性分析', '递归特征消除',
    '随机森林内置的特征重要性', '主成分分析','方差分析', '卡方检验', 'shapley values', '互信息', '信息增益',
    '岭回归', '决策树', '线性判别分析', '自编码器', 'T test', '正向选择'
];
// prettier-ignore
const data = [
    [0, 0, 0], [0, 1, 0.12], [0, 2, 0.01], [0, 3, -0.02], [0, 4, -0.07], [0, 5, -0.07], [0, 6, 0.03], [0, 7, 0], [0, 8, -0.07],[0, 9, -0.01], [0, 10, -0.01], [0, 11, 0], [0, 12, 0.08], [0, 13, -0.18], [0, 14, -0.16], [0, 15, 0.03], [0, 16, -0.01], [0, 17, -0.03],
    [1, 0, 0.12], [1, 1, 0], [1, 2, -0.07], [1, 3, 0.12], [1, 4, -0.22], [1, 5, 0.08], [1, 6, -0.02], [1, 7, 0.11], [1, 8, -0.11],[1, 9, 0.09], [1, 10, 0.04], [1, 11, -0.03], [1, 12, 0.10], [1, 13, 0], [1, 14, -0.03], [1, 15, -0.02], [1, 16, 0.07], [1, 17, 0.15],
    [2, 0, 0.01], [2, 1, -0.07], [2, 2, 0.00], [2, 3, -0.13], [2, 4, 0.07], [2, 5, -0.05], [2, 6, 0.01], [2, 7, -0.13], [2, 8, -0.06], [2, 9, 0.03], [2, 10, -0.08], [2, 11, 0.07], [2, 12, 0.04], [2, 13, -0.14], [2, 14, -0.01], [2, 15, 0.01], [2, 16, 0.00], [2, 17, 0.00],
    [3, 0, -0.02], [3, 1, 0.13], [3, 2, -0.13], [3, 3, 0.00], [3, 4, -0.19], [3, 5, 0.05], [3, 6, -0.14], [3, 7, 0.96], [3, 8, 0.06], [3, 9, 0.06], [3, 10, 0.15], [3, 11, -0.07], [3, 12, 0.04], [3, 13, -0.06], [3, 14, -0.07], [3, 15, -0.14], [3, 16, -0.01], [3, 17, -0.06],
    [4, 0, -0.02], [4, 1, 0.13], [4, 2, -0.13], [4, 3, 0.00], [4, 4, -0.19], [4, 5, 0.05], [4, 6, -0.14], [4, 7, 0.96], [4, 8, 0.06], [4, 9, 0.06], [4, 10, 0.15], [4, 11, -0.07], [4, 12, 0.04], [4, 13, -0.06], [4, 14, -0.07], [4, 15, -0.14], [4, 16, -0.01], [4, 17, -0.06],
    [5, 0, -0.07], [5, 1, 0.08], [5, 2, -0.05], [5, 3, 0.05], [5, 4, 0.00], [5, 5, 0.00], [5, 6, 0.03], [5, 7, 0.05], [5, 8, 0.01], [5, 9, 0.01], [5, 10, 0.11], [5, 11, 0.21], [5, 12, 0.10], [5, 13, 0.09], [5, 14, -0.04], [5, 15, 0.03], [5, 16, 0.08], [5, 17, 0.01],
    [6, 0, 0.03], [6, 1, -0.02], [6, 2, 0.01], [6, 3, -0.14], [6, 4, -0.01], [6, 5, 0.03], [6, 6, 0.00], [6, 7, -0.11], [6, 8, 0.14], [6, 9, -0.06], [6, 10, 0.04], [6, 11, 0.05], [6, 12, 0.04], [6, 13, 0.18], [6, 14, 0.02], [6, 15, 1.00], [6, 16, -0.04], [6, 17, 0.02],
    [7, 0, 0.00], [7, 1, 0.11], [7, 2, -0.13], [7, 3, 0.96], [7, 4, -0.18], [7, 5, 0.05], [7, 6, -0.11], [7, 7, 0.00], [7, 8, 0.05], [7, 9, 0.07], [7, 10, 0.16], [7, 11, -0.07], [7, 12, 0.06], [7, 13, -0.06], [7, 14, -0.07], [7, 15, -0.11], [7, 16, -0.05], [7, 17, -0.05],
    [8, 0, -0.07], [8, 1, -0.11], [8, 2, -0.06], [8, 3, 0.06], [8, 4, 0.14], [8, 5, 0.01], [8, 6, 0.14], [8, 7, 0.05], [8, 8, 0.00], [8, 9, 0.00], [8, 10, 0.12], [8, 11, 0.11], [8, 12, -0.05], [8, 13, 0.02], [8, 14, 0.06], [8, 15, 0.14], [8, 16, 0.00], [8, 17, -0.10],
    [9, 0, -0.01], [9, 1, 0.09], [9, 2, 0.03], [9, 3, 0.06], [9, 4, -0.12], [9, 5, 0.01], [9, 6, -0.06], [9, 7, 0.07], [9, 8, 0.00], [9, 9, 0.00], [9, 10, 0.01], [9, 11, -0.06], [9, 12, -0.11], [9, 13, 0.12], [9, 14, 0.06], [9, 15, -0.06], [9, 16, -0.04], [9, 17, -0.08],
    [10, 0, -0.01], [10, 1, 0.04], [10, 2, -0.08], [10, 3, 0.15], [10, 4, -0.07], [10, 5, 0.11], [10, 6, 0.04], [10, 7, 0.16], [10, 8, 0.12], [10, 9, 0.01], [10, 10, 0.0], [10, 11, 0.15], [10, 12, -0.08], [10, 13, -0.07], [10, 14, 0.0], [10, 15, 0.04], [10, 16, 0.0], [10, 17, -0.14], 
    [11, 0, 0.0], [11, 1, -0.03], [11, 2, 0.07], [11, 3, -0.07], [11, 4, -0.05], [11, 5, 0.21], [11, 6, 0.05], [11, 7, -0.07], [11, 8, 0.11], [11, 9, -0.06], [11, 10, 0.15], [11, 11, 0.0], [11, 12, 0.03], [11, 13, 0.0], [11, 14, 0.15], [11, 15, 0.05], [11, 16, -0.07], [11, 17, -0.17], 
    [12, 0, 0.08], [12, 1, 0.1], [12, 2, 0.04], [12, 3, 0.04], [12, 4, 0.01], [12, 5, 0.1], [12, 6, 0.04], [12, 7, 0.06], [12, 8, -0.05], [12, 9, -0.11], [12, 10, -0.08], [12, 11, 0.03], [12, 12, 0.0], [12, 13, -0.09], [12, 14, 0.05], [12, 15, 0.04], [12, 16, 0.17], [12, 17, 0.0], 
    [13, 0, -0.18], [13, 1, 0.0], [13, 2, -0.14], [13, 3, -0.06], [13, 4, 0.0], [13, 5, 0.09], [13, 6, 0.18], [13, 7, -0.06], [13, 8, 0.02], [13, 9, 0.12], [13, 10, -0.07], [13, 11, 0.0], [13, 12, -0.09], [13, 13, 0.0], [13, 14, 0.05], [13, 15, 0.18], [13, 16, 0.03], [13, 17, 0.06], 
    [14, 0, -0.16], [14, 1, -0.03], [14, 2, -0.01], [14, 3, -0.07], [14, 4, 0.07], [14, 5, -0.04], [14, 6, 0.02], [14, 7, -0.07], [14, 8, 0.06], [14, 9, 0.06], [14, 10, 0.0], [14, 11, 0.15], [14, 12, 0.05], [14, 13, 0.05], [14, 14, 0.0], [14, 15, 0.02], [14, 16, -0.1], [14, 17, -0.02],
    [15, 0, 0.03], [15, 1, -0.02], [15, 2, 0.01], [15, 3, -0.14], [15, 4, -0.01], [15, 5, 0.03], [15, 6, 1.0], [15, 7, -0.11], [15, 8, 0.14], [15, 9, -0.06], [15, 10, 0.04], [15, 11, 0.05], [15, 12, 0.04], [15, 13, 0.18], [15, 14, 0.02], [15, 15, 0.0], [15, 16, -0.04], [15, 17, 0.02], 
    [16, 0, -0.01], [16, 1, 0.07], [16, 2, 0.0], [16, 3, -0.01], [16, 4, 0.02], [16, 5, 0.08], [16, 6, -0.04], [16, 7, -0.05], [16, 8, 0.0], [16, 9, -0.04], [16, 10, 0.0], [16, 11, -0.07], [16, 12, 0.17], [16, 13, 0.03], [16, 14, -0.1], [16, 15, -0.04], [16, 16, 0.0], [16, 17, -0.04], 
    [17, 0, -0.03], [17, 1, 0.15], [17, 2, 0.0], [17, 3, -0.06], [17, 4, 0.0], [17, 5, 0.01], [17, 6, 0.02], [17, 7, -0.05], [17, 8, -0.1], [17, 9, -0.08], [17, 10, -0.14], [17, 11, -0.17], [17, 12, 0.0], [17, 13, 0.06], [17, 14, -0.02], [17, 15, 0.02], [17, 16, -0.04], [17, 17, 0.0],

]
    .map(function (item) {
        return [item[1], item[0], item[2] || '-'];
    });
const initChart = () => {
    const myChart = echarts.init(heatMap2.value);
    const option = {
        tooltip: {
            position: 'top'
        },
        grid: {
            height: '70%',
            left: '15%',
        },
        xAxis: {
            type: 'category',
            axisLabel: {
                rotate: 270 // 设置X轴标签旋转90度
            },
            data: hours,
            splitArea: {
                show: true
            }
        },
        yAxis: {
            type: 'category',
            data: hours,
            splitArea: {
                show: true
            }
        },
        visualMap: {
            min:-1,
            max:1,
            orient: 'horizontal',
            left: 'center',
            // top: '5%',
            inRange: {
                color: ['#ffffbf', '#fee090', '#fdae61', '#f46d43', '#d73027', '#a50026'] // 定义颜色范围
            }
        },
        series: [
            {
                name: 'Punch Card',
                type: 'heatmap',
                data: data,
                label: {
                    show: true
                },
                emphasis: {
                    itemStyle: {
                        shadowBlur: 10,
                        shadowColor: 'rgba(0, 0, 0, 0.5)'
                    }
                }
            }
        ]
    };
    myChart.setOption(option);
};

onMounted(() => {
    initChart();
})

</script>

<style></style>